<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <title>Functions in Fortran 77 - Fortran Hawatri</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
    <link href="../styles.css" rel="stylesheet"/>
</head>
<body class="bg-white text-black font-serif">
    <div class="flex flex-col min-h-screen">
        <!-- Top bar -->
        <div class="flex justify-end space-x-2 text-xs text-blue-900 px-4 py-1 border-b border-gray-300">
            <a class="hover:underline" href="#">Log in</a>
            <button id="dark-mode-toggle" class="hover:underline">Dark mode</button>
        </div>

        <!-- Main header and nav -->
        <div class="flex border-b border-gray-300">
            <!-- Left logo and nav -->
            <div class="flex flex-col items-center border-r border-gray-300 px-2 py-2 w-20 sm:w-24 md:w-28 lg:w-32">
                <a aria-label="Visit the main page" class="mb-2" href="../index.html">
                    <img alt="Fortran Hawatri logo" class="w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24" height="64" src="https://storage.googleapis.com/a1aa/image/453b8091-abd5-472d-7279-604cce949678.jpg" width="64"/>
                </a>
                <nav class="flex flex-col text-xs text-blue-700 space-y-0.5 w-full">
                    <a class="hover:underline pl-1" href="../index.html">Main Page</a>
                    <a class="hover:underline pl-1" href="introduction.html">Introduction</a>
                    <a class="hover:underline pl-1" href="first-program.html">First Program</a>
                    <a class="hover:underline pl-1" href="coding-rules.html">Coding Rules</a>
                    <a class="hover:underline pl-1" href="comments.html">Comments</a>
                    <a class="hover:underline pl-1" href="variables.html">Variables</a>
                    <a class="hover:underline pl-1" href="input-output.html">Input/Output</a>
                    <a class="hover:underline pl-1" href="arithmetic.html">Arithmetic</a>
                    <a class="hover:underline pl-1" href="conditional-statements.html">Conditional Statements</a>
                    <a class="hover:underline pl-1" href="loops.html">Loops</a>
                    <a class="hover:underline pl-1" href="arrays.html">Arrays</a>
                    <a class="hover:underline pl-1" href="functions.html">Functions</a>
                    <a class="hover:underline pl-1" href="recursion.html">Recursion</a>
                    <div class="border-t border-gray-300 mt-2 pt-2 text-gray-700 text-[9px] font-normal">
                        About
                    </div>
                    <a class="hover:underline pl-1 text-xs text-blue-700 mt-1" href="#">This site</a>
                    <a class="hover:underline pl-1 text-xs text-blue-700" href="#">Joining</a>
                    <a class="hover:underline pl-1 text-xs text-blue-700" href="#">Editing help</a>
                    <a class="hover:underline pl-1 text-xs text-blue-700" href="#">Recent changes</a>
                    <div class="border-t border-gray-300 mt-2 pt-2 text-gray-700 text-[9px] font-normal">
                        Tools
                    </div>
                    <a class="hover:underline pl-1 text-xs text-blue-700 mt-1" href="#">What links here</a>
                    <a class="hover:underline pl-1 text-xs text-blue-700" href="#">Related changes</a>
                    <a class="hover:underline pl-1 text-xs text-blue-700" href="#">Special pages</a>
                    <a class="hover:underline pl-1 text-xs text-blue-700" href="#">Printable version</a>
                    <a class="hover:underline pl-1 text-xs text-blue-700" href="#">Permanent link</a>
                    <a class="hover:underline pl-1 text-xs text-blue-700" href="#">Page information</a>
                </nav>
            </div>

            <!-- Main content area -->
            <div class="flex-1 flex flex-col min-w-0">
                <!-- Tabs and search bar -->
                <div class="flex items-center border-b border-gray-300 px-4 py-1 text-sm text-gray-700">
                    <div class="flex space-x-1 border border-gray-300 rounded-t-sm bg-white">
                        <button class="border-b-2 border-white px-3 py-1 text-gray-700 font-normal cursor-default select-none">
                            Page
                        </button>
                        <button class="border-b-2 border-blue-300 px-3 py-1 text-blue-700 hover:bg-blue-50">
                            Discussion
                        </button>
                    </div>
                    <div class="flex-1"></div>
                    <div class="flex items-center space-x-2 border border-gray-300 rounded text-gray-700 bg-white px-2 py-1">
                        <input id="search-input" class="text-xs text-gray-700 placeholder:text-gray-400 outline-none" placeholder="Search Fortran Hawatri" type="search"/>
                        <button id="search-button" aria-label="Search" class="text-gray-700 hover:text-gray-900">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>

                <!-- Read/View source/View history -->
                <div class="flex items-center border-b border-gray-300 px-4 py-1 text-xs text-gray-700">
                    <span class="mr-2">Read</span>
                    <a class="text-blue-700 hover:underline mr-2" href="#">View source</a>
                    <a class="text-blue-700 hover:underline" href="#">View history</a>
                </div>

                <!-- Page title -->
                <h1 class="text-xl font-serif font-normal px-4 pt-4 pb-2 border-b border-gray-300">
                    Functions in Fortran 77
                </h1>

                <!-- Content -->
                <div class="flex flex-col md:flex-row px-4 py-4 space-y-4 md:space-y-0 md:space-x-4">
                    <!-- Left column -->
                    <div class="flex-1 bg-[#dbe9f9] border border-gray-300 p-4 min-w-0">
                        <div class="mb-4">
                            <h2 class="font-bold text-lg mb-2">Introduction to Functions</h2>
                            <p class="text-sm mb-4">
                                Functions in Fortran 77 are subprograms that return a single value. They can accept input arguments, improve code modularity and reusability, and are categorized as:
                            </p>
                            <ul class="list-disc list-inside space-y-1 text-sm mb-4">
                                <li>Intrinsic (built-in)</li>
                                <li>External (user-defined)</li>
                                <li>Statement (single-expression)</li>
                            </ul>

                            <h2 class="font-bold text-lg mb-2">1. Intrinsic Functions</h2>
                            <p class="text-sm mb-4">
                                These are predefined by the language:
                            </p>
                            <div class="bg-gray-100 p-3 mb-4 font-mono text-sm overflow-x-auto">
                                <pre><code>C     EXAMPLE OF INTRINSIC FUNCTIONS
      PROGRAM INTRINSIC
      REAL X, Y
      X = 2.5
      Y = SQRT(X)      ! Square root
      WRITE(*,*) SIN(X), EXP(Y)  ! Sine and exponential
      STOP
      END</code></pre>
                            </div>

                            <h2 class="font-bold text-lg mb-2">2. External Functions</h2>
                            <p class="text-sm mb-4">
                                User-defined functions in separate program units:
                            </p>

                            <h3 class="font-bold text-base mb-2">Function Definition</h3>
                            <div class="bg-gray-100 p-3 mb-4 font-mono text-sm overflow-x-auto">
                                <pre><code>C     FUNCTION TO CALCULATE AREA OF CIRCLE
      REAL FUNCTION AREA(R)
      REAL R, PI
      PARAMETER (PI = 3.14159)
      AREA = PI * R**2
      RETURN
      END</code></pre>
                            </div>

                            <h3 class="font-bold text-base mb-2">Function Usage</h3>
                            <div class="bg-gray-100 p-3 mb-4 font-mono text-sm overflow-x-auto">
                                <pre><code>C     MAIN PROGRAM
      PROGRAM MAIN
      REAL RADIUS, AREA
      WRITE(*,*) 'ENTER RADIUS:'
      READ(*,*) RADIUS
      WRITE(*,*) 'AREA:', AREA(RADIUS)
      STOP
      END</code></pre>
                            </div>

                            <h2 class="font-bold text-lg mb-2">3. Statement Functions</h2>
                            <p class="text-sm mb-4">
                                Single-line functions defined in declaration section:
                            </p>
                            <div class="bg-gray-100 p-3 mb-4 font-mono text-sm overflow-x-auto">
                                <pre><code>C     SIMPLE STATEMENT FUNCTION
      PROGRAM STMT
      REAL X, Y, AVG
      AVG(A,B) = (A + B)/2.0  ! Statement function
      
      X = 5.0
      Y = 7.0
      WRITE(*,*) 'AVERAGE:', AVG(X,Y)
      STOP
      END</code></pre>
                            </div>

                            <h2 class="font-bold text-lg mb-2">Function Declaration Rules</h2>
                            <ul class="list-disc list-inside space-y-1 text-sm mb-4">
                                <li>Return type declared in function definition:
                                    <div class="bg-gray-100 p-2 mt-1 text-sm font-mono">REAL FUNCTION NAME(...)</div>
                                </li>
                                <li>Must be declared in calling program if:
                                    <ul class="list-circle list-inside ml-6 space-y-1">
                                        <li>Return type doesn't match implicit naming</li>
                                        <li>Function is external</li>
                                    </ul>
                                </li>
                                <li>Arguments passed by reference</li>
                            </ul>

                            <h2 class="font-bold text-lg mb-2">Argument Passing Example</h2>
                            <div class="bg-gray-100 p-3 mb-4 font-mono text-sm overflow-x-auto">
                                <pre><code>C     FUNCTION WITH MULTIPLE PARAMETERS
      REAL FUNCTION POWER(BASE, EXP)
      REAL BASE
      INTEGER EXP
      POWER = BASE**EXP
      RETURN
      END

C     MAIN PROGRAM
      PROGRAM MAIN
      REAL POWER, RESULT
      RESULT = POWER(2.5, 3)
      WRITE(*,*) '2.5^3 =', RESULT
      STOP
      END</code></pre>
                            </div>

                            <h2 class="font-bold text-lg mb-2">Type Declaration in Calling Program</h2>
                            <div class="bg-gray-100 p-3 mb-4 font-mono text-sm overflow-x-auto">
                                <pre><code>C     EXPLICIT TYPE DECLARATION
      PROGRAM TYPE_DEC
      REAL VOLUME  ! Function returns REAL
      WRITE(*,*) 'VOLUME:', VOLUME(5.0)
      STOP
      END

      REAL FUNCTION VOLUME(R)
      REAL R
      VOLUME = (4.0/3.0) * 3.14159 * R**3
      RETURN
      END</code></pre>
                            </div>

                            <h2 class="font-bold text-lg mb-2">Common Function Errors</h2>
                            <div class="overflow-x-auto mb-4">
                                <table class="min-w-full border border-gray-300">
                                    <thead>
                                        <tr class="bg-gray-100">
                                            <th class="border border-gray-300 px-4 py-2 text-left">Error</th>
                                            <th class="border border-gray-300 px-4 py-2 text-left">Solution</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="border border-gray-300 px-4 py-2">Implicit Type Mismatch</td>
                                            <td class="border border-gray-300 px-4 py-2">Always declare function return types explicitly</td>
                                        </tr>
                                        <tr>
                                            <td class="border border-gray-300 px-4 py-2">Missing Declaration</td>
                                            <td class="border border-gray-300 px-4 py-2">Declare function in calling program</td>
                                        </tr>
                                        <tr>
                                            <td class="border border-gray-300 px-4 py-2">Argument Count Mismatch</td>
                                            <td class="border border-gray-300 px-4 py-2">Match number of arguments in definition and call</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <h2 class="font-bold text-lg mb-2">Functions vs Subroutines</h2>
                            <div class="overflow-x-auto mb-4">
                                <table class="min-w-full border border-gray-300">
                                    <thead>
                                        <tr class="bg-gray-100">
                                            <th class="border border-gray-300 px-4 py-2 text-left">Functions</th>
                                            <th class="border border-gray-300 px-4 py-2 text-left">Subroutines</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="border border-gray-300 px-4 py-2">Return one value</td>
                                            <td class="border border-gray-300 px-4 py-2">No return value</td>
                                        </tr>
                                        <tr>
                                            <td class="border border-gray-300 px-4 py-2">Used in expressions</td>
                                            <td class="border border-gray-300 px-4 py-2">Called with CALL</td>
                                        </tr>
                                        <tr>
                                            <td class="border border-gray-300 px-4 py-2">Can't modify arguments</td>
                                            <td class="border border-gray-300 px-4 py-2">Can modify arguments</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <h2 class="font-bold text-lg mb-2">Best Practices</h2>
                            <ul class="list-disc list-inside space-y-1 text-sm mb-4">
                                <li>Always declare function return types explicitly</li>
                                <li>Use meaningful function names</li>
                                <li>Document argument types and purposes</li>
                                <li>Avoid modifying input arguments</li>
                                <li>Use statement functions only for simple operations</li>
                            </ul>

                            <h2 class="font-bold text-lg mb-2">Advanced Example</h2>
                            <div class="bg-gray-100 p-3 mb-4 font-mono text-sm overflow-x-auto">
                                <pre><code>C     RECURSIVE FACTORIAL (SIMULATED)
      PROGRAM RECUR
      INTEGER N, FACT
      WRITE(*,*) 'ENTER NUMBER:'
      READ(*,*) N
      WRITE(*,*) N, '! =', FACT(N)
      STOP
      END

      INTEGER FUNCTION FACT(K)
      INTEGER K
      IF (K .LE. 1) THEN
          FACT = 1
      ELSE
          FACT = K * FACT(K-1)
      END IF
      RETURN
      END</code></pre>
                            </div>
                            <p class="text-sm mb-4">
                                <strong>Note:</strong> Fortran 77 doesn't officially support recursion - this may require compiler-specific settings.
                            </p>
                        </div>
                    </div>

                    <!-- Right column -->
                    <div class="flex-1 bg-[#dbe9f9] border border-gray-300 p-4 min-w-0">
                        <h2 class="font-bold bg-[#c3d5e9] p-2 border border-gray-300 mb-3 text-sm">
                            Quick Links
                        </h2>
                        <ul class="list-disc list-inside space-y-1 text-sm text-blue-700">
                            <li><a class="hover:underline" href="introduction.html">Introduction</a></li>
                            <li><a class="hover:underline" href="first-program.html">First Program</a></li>
                            <li><a class="hover:underline" href="coding-rules.html">Coding Rules</a></li>
                            <li><a class="hover:underline" href="comments.html">Comments</a></li>
                            <li><a class="hover:underline" href="variables.html">Variables</a></li>
                            <li><a class="hover:underline" href="input-output.html">Input/Output</a></li>
                            <li><a class="hover:underline" href="arithmetic.html">Arithmetic</a></li>
                            <li><a class="hover:underline" href="conditional-statements.html">Conditional Statements</a></li>
                            <li><a class="hover:underline" href="loops.html">Loops</a></li>
                            <li><a class="hover:underline" href="arrays.html">Arrays</a></li>
                            <li><a class="hover:underline" href="functions.html">Functions</a></li>
                            <li><a class="hover:underline" href="recursion.html">Recursion</a></li>
                        </ul>

                        <h2 class="font-bold bg-[#c3d5e9] p-2 border border-gray-300 mb-3 text-sm mt-4">
                            Examples
                        </h2>
                        <ul class="list-disc list-inside space-y-1 text-sm text-blue-700">
                            <li><a class="hover:underline" href="#intrinsic">Intrinsic Functions</a></li>
                            <li><a class="hover:underline" href="#external">External Functions</a></li>
                            <li><a class="hover:underline" href="#statement">Statement Functions</a></li>
                            <li><a class="hover:underline" href="#arguments">Argument Passing</a></li>
                            <li><a class="hover:underline" href="#area">Area Calculation</a></li>
                            <li><a class="hover:underline" href="#power">Power Function</a></li>
                            <li><a class="hover:underline" href="#volume">Volume Function</a></li>
                            <li><a class="hover:underline" href="#factorial">Factorial Function</a></li>
                        </ul>
                    </div>
                </div>

                <!-- Welcome box -->
                <div class="border border-gray-300 mx-4 mb-4 p-4">
                    <p class="text-center text-base">
                        Welcome to <a class="text-blue-700 hover:underline font-sans" href="#">Fortran Hawatri</a>
                    </p>
                    <p class="text-center text-xs">
                        Your comprehensive guide to learning Fortran 77 programming language.
                    </p>
                    <p class="text-center text-xs">
                        Continue with <a class="text-blue-700 hover:underline" href="recursion.html">Recursion in Fortran 77</a>!
                    </p>
                </div>

                <!-- Display short/expanded view -->
                <div class="bg-blue-50 border border-blue-200 mx-4 mb-4 p-2 text-xs font-bold">
                    <span>Display:</span>
                    <a class="text-blue-700 hover:underline" href="#">Short view</a>
                    <span>- Expanded view</span>
                </div>
            </div>
        </div>
    </div>
    <script src="../script.js"></script>
</body>
</html>